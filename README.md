# MPChart Kçº¿æ ‡è®°åº“

ä¸€ä¸ªä¸“ä¸ºMPAndroidChartè®¾è®¡çš„Kçº¿æ ‡è®°æ‰©å±•åº“ï¼Œå¯ä»¥åœ¨Kçº¿å›¾ä¸Šæ·»åŠ å„ç§ç±»å‹çš„æ ‡è®°å’Œè¶‹åŠ¿åŒºé—´èƒŒæ™¯ï¼ŒåŒ…æ‹¬ä¹°å…¥/å–å‡ºæ ‡è®°ã€æ•°å­—æ ‡è®°ã€ä¸‰è§’å½¢æ ‡è®°ã€è¶‹åŠ¿åŒºé—´é˜´å½±ç­‰ã€‚

## é¡¹ç›®ç»“æ„

```
MPChartMarker/
â”œâ”€â”€ app/                    # ç¤ºä¾‹åº”ç”¨
â”œâ”€â”€ kline-marker-lib/       # Kçº¿æ ‡è®°åº“ï¼ˆæ ¸å¿ƒåº“ï¼‰
â”‚   â”œâ”€â”€ docs/              # ğŸ“š å®Œæ•´æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ å¿«é€Ÿå¼€å§‹æŒ‡å—.md         # 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
â”‚   â”‚   â”œâ”€â”€ Kçº¿æ ‡è®°åº“ä½¿ç”¨æŒ‡å—.md     # å®Œæ•´ä½¿ç”¨æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ åŠŸèƒ½ç‰¹æ€§è¯¦è§£.md         # æ·±åº¦æŠ€æœ¯è§£æ
â”‚   â”œâ”€â”€ src/main/java/com/alex/klinemarker/
â”‚   â”‚   â”œâ”€â”€ core/          # æ ¸å¿ƒæ¸²æŸ“å’Œé…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ data/          # æ•°æ®æ¨¡å‹å’Œé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ KLineMarkerManager.java  # ä¸»è¦å…¥å£ç±»
â”‚   â”œâ”€â”€ README.md          # åº“è¯´æ˜æ–‡æ¡£
â”‚   â””â”€â”€ build.gradle.kts   # åº“æ„å»ºé…ç½®
â””â”€â”€ README.md              # æœ¬æ–‡ä»¶ï¼ˆé¡¹ç›®æ€»è§ˆï¼‰
```

## ç‰¹æ€§

- ğŸ¯ **å¤šç§æ ‡è®°ç±»å‹**ï¼šä¹°å…¥ã€å–å‡ºã€æ•°å­—ã€ä¸Šä¸‰è§’ã€ä¸‹ä¸‰è§’
- ğŸ“Š **è¶‹åŠ¿åŒºé—´èƒŒæ™¯**ï¼šä¸Šæ¶¨ã€ä¸‹è·Œã€ä¸­æ€§è¶‹åŠ¿çš„ç²¾ç¾é˜´å½±æ•ˆæœ
- ğŸ¨ **å®Œå…¨å¯è‡ªå®šä¹‰**ï¼šé¢œè‰²ã€å¤§å°ã€å­—ä½“ã€ä½ç½®ã€é€æ˜åº¦ç­‰éƒ½å¯é…ç½®
- ğŸ”§ **çµæ´»é€‚é…**ï¼šé€šè¿‡é€‚é…å™¨æ¨¡å¼æ”¯æŒä»»æ„Kçº¿æ•°æ®æ ¼å¼
- ğŸ“± **è‡ªåŠ¨é€‚é…**ï¼šè‡ªåŠ¨é€‚é…å±å¹•å¯†åº¦å’Œå®‰å…¨åŒºåŸŸ
- âš¡ **é«˜æ€§èƒ½**ï¼šåªç»˜åˆ¶å¯è§åŒºåŸŸçš„æ ‡è®°å’Œè¶‹åŠ¿åŒºé—´ï¼Œæ”¯æŒå¤§é‡æ•°æ®
- ğŸ—ï¸ **æ˜“äºä½¿ç”¨**ï¼šBuilderæ¨¡å¼ï¼Œé“¾å¼è°ƒç”¨ï¼Œé›†æˆç®€å•
- ğŸ“ˆ **JSONæ”¯æŒ**ï¼šæ”¯æŒJSONæ ¼å¼çš„è¶‹åŠ¿åŒºé—´æ•°æ®å¯¼å…¥
- ğŸ­ **å¹³æ»‘æ•ˆæœ**ï¼šæ”¯æŒè´å¡å°”æ›²çº¿å’Œæ¸å˜æ•ˆæœ

## å¿«é€Ÿå¼€å§‹

### 1. æ·»åŠ ä¾èµ–

åœ¨æ‚¨çš„é¡¹ç›®ä¸­æ·»åŠ åº“æ¨¡å—ï¼š

```kotlin
// settings.gradle.kts
include(":kline-marker-lib")

// app/build.gradle.kts
dependencies {
    implementation(project(":kline-marker-lib"))
}
```

### 2. åŸºæœ¬ä½¿ç”¨

```java
// åˆ›å»ºæ•°æ®é€‚é…å™¨
KLineDataAdapter<YourKLineData> adapter = new YourKLineDataAdapter();

// åˆ›å»ºæ ‡è®°ç®¡ç†å™¨
KLineMarkerManager<YourKLineData> markerManager =
        new KLineMarkerManager.Builder<YourKLineData>()
                .context(this)
                .chart(combinedChart)
                .dataAdapter(adapter)
                .build();

// è®¾ç½®Kçº¿æ•°æ®
markerManager.setKLineData(klineDataList);

// åˆ›å»ºæ ‡è®°
List<MarkerData> markers = new ArrayList<>();
markers.add(new MarkerData(new Date(), MarkerData.MarkerType.BUY, "ä¹°å…¥"));
markers.add(new MarkerData(new Date(), MarkerData.MarkerType.SELL, "å–å‡º"));

// æ˜¾ç¤ºæ ‡è®°
markerManager.setMarkers(markers);

// åˆ›å»ºè¶‹åŠ¿åŒºé—´
List<TrendRegion> trendRegions = new ArrayList<>();
trendRegions.add(
        new TrendRegion("2024-01-15", "2024-01-25", 3,
        "2024-01-26T10:00:00Z", TrendRegion.TrendType.RISING));

// æ˜¾ç¤ºè¶‹åŠ¿åŒºé—´
markerManager.setTrendRegions(trendRegions);
markerManager.refresh();
```

## æ ¸å¿ƒç»„ä»¶

### 1. KLineMarkerManager

ä¸»è¦å…¥å£ç±»ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„APIæ¥ç®¡ç†Kçº¿æ ‡è®°ã€‚

### 2. MarkerData

æ ‡è®°æ•°æ®æ¨¡å‹ï¼Œå®šä¹‰æ ‡è®°çš„ç±»å‹ã€ä½ç½®ã€æ–‡æœ¬ç­‰å±æ€§ã€‚

### 3. TrendRegion

è¶‹åŠ¿åŒºé—´æ•°æ®æ¨¡å‹ï¼Œå®šä¹‰è¶‹åŠ¿åŒºé—´çš„æ—¶é—´èŒƒå›´ã€ç±»å‹ç­‰å±æ€§ã€‚

### 4. KLineDataAdapter

æ•°æ®é€‚é…å™¨æ¥å£ï¼Œç”¨äºé€‚é…ä¸åŒæ ¼å¼çš„Kçº¿æ•°æ®ã€‚

### 5. MarkerConfig

æ ‡è®°é…ç½®ç±»ï¼Œç”¨äºè‡ªå®šä¹‰æ ‡è®°çš„å¤–è§‚å’Œè¡Œä¸ºã€‚

### 6. TrendRegionConfig

è¶‹åŠ¿åŒºé—´é…ç½®ç±»ï¼Œç”¨äºè‡ªå®šä¹‰è¶‹åŠ¿åŒºé—´çš„å¤–è§‚å’Œè¡Œä¸ºã€‚

### 7. KLineMarkerRenderer

æ ¸å¿ƒæ ‡è®°æ¸²æŸ“å™¨ï¼Œè´Ÿè´£åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶æ ‡è®°ã€‚

### 8. TrendRegionRenderer

æ ¸å¿ƒè¶‹åŠ¿åŒºé—´æ¸²æŸ“å™¨ï¼Œè´Ÿè´£åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶è¶‹åŠ¿åŒºé—´èƒŒæ™¯ã€‚

## æ ‡è®°ç±»å‹

| ç±»å‹            | è¯´æ˜   | ä½ç½®     | å¤–è§‚      |
|---------------|------|--------|---------|
| BUY           | ä¹°å…¥æ ‡è®° | Kçº¿ä½ç‚¹ä¸‹æ–¹ | ç»¿è‰²åœ†è§’çŸ©å½¢  |
| SELL          | å–å‡ºæ ‡è®° | Kçº¿é«˜ç‚¹ä¸Šæ–¹ | çº¢è‰²åœ†è§’çŸ©å½¢  |
| NUMBER        | æ•°å­—æ ‡è®° | Kçº¿ä¸­éƒ¨   | å¸¦å¼•å‡ºçº¿çš„æ–‡å­— |
| UP_TRIANGLE   | ä¸Šä¸‰è§’  | Kçº¿é«˜ç‚¹ä¸Šæ–¹ | æ©™çº¢è‰²ä¸‰è§’å½¢  |
| DOWN_TRIANGLE | ä¸‹ä¸‰è§’  | Kçº¿ä½ç‚¹ä¸‹æ–¹ | ç´«è‰²ä¸‰è§’å½¢   |

## è‡ªå®šä¹‰é…ç½®

### æ ‡è®°é…ç½®

```java
MarkerConfig markerConfig = new MarkerConfig.Builder()
        .markerSize(14f)                    // æ ‡è®°å¤§å°
        .textSize(10f)                      // æ–‡å­—å¤§å°
        .buyColor(Color.GREEN)              // ä¹°å…¥æ ‡è®°é¢œè‰²
        .sellColor(Color.RED)               // å–å‡ºæ ‡è®°é¢œè‰²
        .fixedLineLength(30f)               // è™šçº¿é•¿åº¦
        .markerOffsetMultiplier(2.0f)       // æ ‡è®°åç§»å€æ•°
        .build();
```

### è¶‹åŠ¿åŒºé—´é…ç½®

```java
TrendRegionConfig trendConfig = new TrendRegionConfig.Builder()
        .risingColor(Color.parseColor("#4CAF50"))    // ä¸Šæ¶¨è¶‹åŠ¿é¢œè‰²
        .fallingColor(Color.parseColor("#F44336"))   // ä¸‹è·Œè¶‹åŠ¿é¢œè‰²
        .topAlpha(0.3f)                              // é¡¶éƒ¨é€æ˜åº¦
        .bottomAlpha(0.1f)                           // åº•éƒ¨é€æ˜åº¦
        .enableBezierCurve(true)                     // å¯ç”¨è´å¡å°”æ›²çº¿
        .enableGradient(true)                        // å¯ç”¨æ¸å˜
        .build();
```

## ğŸ“š æ–‡æ¡£

### ğŸš€ å¿«é€Ÿå¼€å§‹

- [å¿«é€Ÿå¼€å§‹æŒ‡å—](kline-marker-lib/docs/å¿«é€Ÿå¼€å§‹æŒ‡å—.md) - 5åˆ†é’Ÿå¿«é€Ÿé›†æˆå’ŒéªŒè¯

### ğŸ“– å®Œæ•´ä½¿ç”¨æŒ‡å—

- [Kçº¿æ ‡è®°åº“ä½¿ç”¨æŒ‡å—](kline-marker-lib/docs/Kçº¿æ ‡è®°åº“ä½¿ç”¨æŒ‡å—.md) - å®Œæ•´çš„é›†æˆã€é…ç½®å’Œä½¿ç”¨æ–‡æ¡£

### ğŸ”§ æ·±åº¦è§£æ

- [åŠŸèƒ½ç‰¹æ€§è¯¦è§£](kline-marker-lib/docs/åŠŸèƒ½ç‰¹æ€§è¯¦è§£.md) - æŠ€æœ¯å®ç°ç»†èŠ‚ã€ç®—æ³•åŸç†å’Œé«˜çº§å®šåˆ¶

### ğŸ“¦ åº“æ–‡æ¡£

- [åº“ README](kline-marker-lib/README.md) - åº“çš„ç‹¬ç«‹è¯´æ˜æ–‡æ¡£

## ç¤ºä¾‹åº”ç”¨

é¡¹ç›®ä¸­çš„`app`æ¨¡å—åŒ…å«äº†å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºäº†ï¼š

- å„ç§æ ‡è®°ç±»å‹çš„ä½¿ç”¨
- è‡ªå®šä¹‰é…ç½®çš„åº”ç”¨
- åŠ¨æ€æ·»åŠ å’Œåˆ é™¤æ ‡è®°
- ä¸ç½‘ç»œAPIçš„é›†æˆ

## æŠ€æœ¯è¦æ±‚

- Android API 21+
- MPAndroidChart v3.1.0+
- Java 8+

## æ¶æ„è®¾è®¡

åº“é‡‡ç”¨äº†ä»¥ä¸‹è®¾è®¡æ¨¡å¼å’ŒåŸåˆ™ï¼š

1. **é€‚é…å™¨æ¨¡å¼**ï¼šé€šè¿‡`KLineDataAdapter`é€‚é…ä¸åŒçš„Kçº¿æ•°æ®æ ¼å¼
2. **Builderæ¨¡å¼**ï¼šæä¾›é“¾å¼è°ƒç”¨çš„é…ç½®æ–¹å¼
3. **ç­–ç•¥æ¨¡å¼**ï¼šä¸åŒç±»å‹çš„æ ‡è®°ä½¿ç”¨ä¸åŒçš„ç»˜åˆ¶ç­–ç•¥
4. **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªç±»éƒ½æœ‰æ˜ç¡®çš„èŒè´£
5. **å¼€é—­åŸåˆ™**ï¼šæ˜“äºæ‰©å±•æ–°çš„æ ‡è®°ç±»å‹

## æ€§èƒ½ä¼˜åŒ–

- åªç»˜åˆ¶å¯è§åŒºåŸŸçš„æ ‡è®°
- ä½¿ç”¨å¯¹è±¡æ± å‡å°‘å†…å­˜åˆ†é…
- ç¼“å­˜ç»˜åˆ¶ç›¸å…³çš„è®¡ç®—ç»“æœ
- å¼‚æ­¥å¤„ç†å¤§é‡æ ‡è®°æ•°æ®

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªåº“ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æºã€‚

## æ›´æ–°æ—¥å¿—

### v1.0.0

- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒ5ç§åŸºæœ¬æ ‡è®°ç±»å‹
- å®Œæ•´çš„é…ç½®ç³»ç»Ÿ
- é«˜æ€§èƒ½æ¸²æŸ“å¼•æ“
