# K线标记颜色和字体优化说明

## 优化目的
提高K线标记的视觉识别度和可读性，特别是解决以下问题：
1. 原有黄色标记在图表背景下不够醒目
2. 部分绿色标记对比度不足
3. 文字缺乏加粗处理，可读性不佳

## 颜色优化详情

### 1. 重要标记（五角星）
- **原颜色**: `0xFFFFEB3B` (淡黄色)
- **新颜色**: `0xFFFF8F00` (金色/深橙色)
- **优化理由**: 淡黄色在白色或浅色背景下识别度很差，改为金色更加醒目

### 2. 买入标记（向上三角形）
- **原颜色**: `0xFF4CAF50` (Material Design 绿色)
- **新颜色**: `0xFF2E7D32` (深绿色)
- **优化理由**: 提高对比度，在各种背景下都更容易识别

### 3. 成功标记（圆形）
- **原颜色**: `0xFF4CAF50` (Material Design 绿色)
- **新颜色**: `0xFF2E7D32` (深绿色)
- **优化理由**: 与买入标记保持一致，提高对比度

### 4. 警告标记（圆形）
- **原颜色**: `0xFFFF9800` (橙色)
- **新颜色**: `0xFFE65100` (深橙色)
- **优化理由**: 使颜色更加醒目，增强警示效果

### 5. 信息标记（圆形）
- **原颜色**: `0xFF2196F3` (浅蓝色)
- **新颜色**: `0xFF1976D2` (深蓝色)
- **优化理由**: 提高对比度，增强可读性

### 6. 事件标记（菱形）
- **原颜色**: `0xFF9C27B0` (浅紫色)
- **新颜色**: `0xFF6A1B9A` (深紫色)
- **优化理由**: 提高对比度，使标记更加突出

## 字体优化详情

### 统一加粗处理
对所有文字渲染器添加了加粗字体设置：

1. **CircleTextRenderer**: 添加 `textPaint.setTypeface(android.graphics.Typeface.DEFAULT_BOLD)`
2. **RectangleTextRenderer**: 添加 `textPaint.setTypeface(android.graphics.Typeface.DEFAULT_BOLD)`
3. **DiamondTextRenderer**: 添加 `textPaint.setTypeface(android.graphics.Typeface.DEFAULT_BOLD)`
4. **TextOnlyRenderer**: 原有设置保持（已经是加粗）

### 字体优化效果
- 提高文字的可读性，特别是在小尺寸下
- 增强文字与背景的对比度
- 确保在各种显示设备上都有良好的显示效果

## 兼容性说明

### 向后兼容
- 所有原有的API保持不变
- 现有代码无需修改即可享受优化效果
- 自定义颜色配置仍然可以覆盖预设颜色

### 自定义选项
用户仍可通过以下方式自定义颜色：
```java
// 使用自定义颜色创建标记
MarkerData.createCustomMarker(date, "自定义", 
    MarkerPresets.customize(MarkerPresets.important())
        .backgroundColor(0xFF你的颜色)
        .build());
```

## 颜色对比表

| 标记类型 | 原颜色代码 | 新颜色代码 | 颜色名称 | 优化效果 |
|---------|-----------|-----------|---------|---------|
| 重要标记 | `0xFFFFEB3B` | `0xFFFF8F00` | 淡黄→金色 | 显著提升识别度 |
| 买入标记 | `0xFF4CAF50` | `0xFF2E7D32` | 绿色→深绿 | 提高对比度 |
| 成功标记 | `0xFF4CAF50` | `0xFF2E7D32` | 绿色→深绿 | 提高对比度 |
| 警告标记 | `0xFFFF9800` | `0xFFE65100` | 橙色→深橙 | 增强警示效果 |
| 信息标记 | `0xFF2196F3` | `0xFF1976D2` | 蓝色→深蓝 | 提高对比度 |
| 事件标记 | `0xFF9C27B0` | `0xFF6A1B9A` | 紫色→深紫 | 提高对比度 |

## 使用建议

1. **优先使用预设标记**: 预设标记已经过优化，具有良好的视觉效果
2. **自定义颜色时考虑对比度**: 确保选择的颜色在目标背景下有足够的对比度
3. **测试不同设备**: 在不同的设备和显示条件下测试标记的可见性
4. **考虑色盲用户**: 避免仅依赖颜色区分不同类型的标记

## 更新日期
2024年12月 - 初版优化完成 